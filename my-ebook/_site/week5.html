<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Harsh Pradhan">

<title>6&nbsp; Week 5 – my-ebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./week6.html" rel="next">
<link href="./week4.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./week5.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 5</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">my-ebook</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 1</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 2</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 3</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 4</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 5</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">week 6</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Week 7</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Week 8</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#lecture-24-deep-dive-correlation" id="toc-lecture-24-deep-dive-correlation" class="nav-link active" data-scroll-target="#lecture-24-deep-dive-correlation"><span class="header-section-number">6.1</span> 2. Lecture 24 – Deep Dive: Correlation</a>
  <ul>
  <li><a href="#what-is-correlation" id="toc-what-is-correlation" class="nav-link" data-scroll-target="#what-is-correlation"><span class="header-section-number">6.1.1</span> 2.1 What is Correlation?</a>
  <ul class="collapse">
  <li><a href="#theory" id="toc-theory" class="nav-link" data-scroll-target="#theory"><span class="header-section-number">6.1.1.1</span> 💡 Theory</a></li>
  </ul></li>
  <li><a href="#types-of-correlation-and-use-cases" id="toc-types-of-correlation-and-use-cases" class="nav-link" data-scroll-target="#types-of-correlation-and-use-cases"><span class="header-section-number">6.1.2</span> 2.2 Types of Correlation and Use Cases</a></li>
  <li><a href="#pearson-spearman-kendall-comparison" id="toc-pearson-spearman-kendall-comparison" class="nav-link" data-scroll-target="#pearson-spearman-kendall-comparison"><span class="header-section-number">6.1.3</span> 2.3 Pearson, Spearman, Kendall Comparison</a></li>
  </ul></li>
  <li><a href="#add-non-linear-data" id="toc-add-non-linear-data" class="nav-link" data-scroll-target="#add-non-linear-data"><span class="header-section-number">6.2</span> Add non-linear data</a></li>
  <li><a href="#pearson-linear" id="toc-pearson-linear" class="nav-link" data-scroll-target="#pearson-linear"><span class="header-section-number">6.3</span> Pearson (linear)</a></li>
  <li><a href="#spearman-rank-monotonic" id="toc-spearman-rank-monotonic" class="nav-link" data-scroll-target="#spearman-rank-monotonic"><span class="header-section-number">6.4</span> Spearman (rank, monotonic)</a></li>
  <li><a href="#kendall-ordinal" id="toc-kendall-ordinal" class="nav-link" data-scroll-target="#kendall-ordinal"><span class="header-section-number">6.5</span> Kendall (ordinal)</a></li>
  <li><a href="#install.packagesggm" id="toc-install.packagesggm" class="nav-link" data-scroll-target="#install.packagesggm"><span class="header-section-number">6.6</span> install.packages(“ggm”)</a></li>
  <li><a href="#simulate-data" id="toc-simulate-data" class="nav-link" data-scroll-target="#simulate-data"><span class="header-section-number">6.7</span> Simulate data</a></li>
  <li><a href="#generate-all-pairwise-correlations" id="toc-generate-all-pairwise-correlations" class="nav-link" data-scroll-target="#generate-all-pairwise-correlations"><span class="header-section-number">6.8</span> Generate all pairwise correlations</a></li>
  <li><a href="#visualize-matrix-with-corrplot" id="toc-visualize-matrix-with-corrplot" class="nav-link" data-scroll-target="#visualize-matrix-with-corrplot"><span class="header-section-number">6.9</span> Visualize matrix with corrplot</a></li>
  <li><a href="#lecture-25-one-way-anova-detailed" id="toc-lecture-25-one-way-anova-detailed" class="nav-link" data-scroll-target="#lecture-25-one-way-anova-detailed"><span class="header-section-number">6.10</span> 3. Lecture 25 – One-Way ANOVA (Detailed)</a>
  <ul>
  <li><a href="#concept-overview" id="toc-concept-overview" class="nav-link" data-scroll-target="#concept-overview"><span class="header-section-number">6.10.1</span> 3.1 Concept Overview</a>
  <ul class="collapse">
  <li><a href="#formula-breakdown" id="toc-formula-breakdown" class="nav-link" data-scroll-target="#formula-breakdown"><span class="header-section-number">6.10.1.1</span> 💡 Formula Breakdown</a></li>
  </ul></li>
  <li><a href="#anova-table-example" id="toc-anova-table-example" class="nav-link" data-scroll-target="#anova-table-example"><span class="header-section-number">6.10.2</span> 3.2 ANOVA Table Example</a></li>
  <li><a href="#r-code-one-way-anova" id="toc-r-code-one-way-anova" class="nav-link" data-scroll-target="#r-code-one-way-anova"><span class="header-section-number">6.10.3</span> 3.3 R Code – One-Way ANOVA</a></li>
  </ul></li>
  <li><a href="#homogeneity-check" id="toc-homogeneity-check" class="nav-link" data-scroll-target="#homogeneity-check"><span class="header-section-number">6.11</span> Homogeneity check</a></li>
  <li><a href="#lecture-28-simple-linear-regression" id="toc-lecture-28-simple-linear-regression" class="nav-link" data-scroll-target="#lecture-28-simple-linear-regression"><span class="header-section-number">6.12</span> 6. Lecture 28 – Simple Linear Regression</a>
  <ul>
  <li><a href="#theory-refresher" id="toc-theory-refresher" class="nav-link" data-scroll-target="#theory-refresher"><span class="header-section-number">6.12.1</span> 6.1 Theory Refresher</a></li>
  <li><a href="#example-in-r" id="toc-example-in-r" class="nav-link" data-scroll-target="#example-in-r"><span class="header-section-number">6.12.2</span> 6.2 Example in R</a></li>
  <li><a href="#install.packagesscatterplot3d" id="toc-install.packagesscatterplot3d" class="nav-link" data-scroll-target="#install.packagesscatterplot3d"><span class="header-section-number">6.12.3</span> install.packages(“scatterplot3d”)</a></li>
  </ul></li>
  <li><a href="#lecture-32-logistic-regression" id="toc-lecture-32-logistic-regression" class="nav-link" data-scroll-target="#lecture-32-logistic-regression"><span class="header-section-number">6.13</span> 10. Lecture 32 – Logistic Regression</a>
  <ul>
  <li><a href="#when-to-use" id="toc-when-to-use" class="nav-link" data-scroll-target="#when-to-use"><span class="header-section-number">6.13.1</span> 10.1 When to Use</a></li>
  <li><a href="#logistic-function" id="toc-logistic-function" class="nav-link" data-scroll-target="#logistic-function"><span class="header-section-number">6.13.2</span> 10.2 Logistic Function</a></li>
  <li><a href="#r-example-predicting-admission" id="toc-r-example-predicting-admission" class="nav-link" data-scroll-target="#r-example-predicting-admission"><span class="header-section-number">6.13.3</span> 10.3 R Example: Predicting Admission</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 5</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Harsh Pradhan </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="lecture-24-deep-dive-correlation" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="lecture-24-deep-dive-correlation"><span class="header-section-number">6.1</span> 2. Lecture 24 – Deep Dive: Correlation</h2>
<section id="what-is-correlation" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="what-is-correlation"><span class="header-section-number">6.1.1</span> 2.1 What is Correlation?</h3>
<p>Correlation is a statistical measure that expresses the <strong>extent to which two variables are linearly related</strong>.</p>
<section id="theory" class="level4" data-number="6.1.1.1">
<h4 data-number="6.1.1.1" class="anchored" data-anchor-id="theory"><span class="header-section-number">6.1.1.1</span> 💡 Theory</h4>
<ul>
<li>If variable X increases as Y increases → <strong>Positive correlation</strong></li>
<li>If variable X increases as Y decreases → <strong>Negative correlation</strong></li>
<li>If there’s no linear trend → <strong>Zero correlation</strong></li>
</ul>
<blockquote class="blockquote">
<p>Pearson’s r ranges from -1 to +1.</p>
</blockquote>
<hr>
</section>
</section>
<section id="types-of-correlation-and-use-cases" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="types-of-correlation-and-use-cases"><span class="header-section-number">6.1.2</span> 2.2 Types of Correlation and Use Cases</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 51%">
</colgroup>
<thead>
<tr class="header">
<th>Data Type</th>
<th>Correlation Type</th>
<th>Use Case Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Nominal</td>
<td>Phi</td>
<td>Gender vs.&nbsp;Yes/No Preferences</td>
</tr>
<tr class="even">
<td>Dichotomous</td>
<td>Point-Biserial</td>
<td>Pass/Fail vs.&nbsp;Exam Score</td>
</tr>
<tr class="odd">
<td>Ordinal/Rank</td>
<td>Spearman/Kendall</td>
<td>Rank in class vs.&nbsp;Test anxiety</td>
</tr>
<tr class="even">
<td>Ratio/Interval</td>
<td>Pearson</td>
<td>Height vs.&nbsp;Weight</td>
</tr>
<tr class="odd">
<td>Multivariate</td>
<td>Partial Correl.</td>
<td>Control confounders</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="pearson-spearman-kendall-comparison" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="pearson-spearman-kendall-comparison"><span class="header-section-number">6.1.3</span> 2.3 Pearson, Spearman, Kendall Comparison</h3>
<p>{r} ## Simulate linear data set.seed(123) x &lt;- rnorm(100) y &lt;- 2 * x + rnorm(100)</p>
</section>
</section>
<section id="add-non-linear-data" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="add-non-linear-data"><span class="header-section-number">6.2</span> Add non-linear data</h2>
<p>z &lt;- x^2 + rnorm(100)</p>
</section>
<section id="pearson-linear" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="pearson-linear"><span class="header-section-number">6.3</span> Pearson (linear)</h2>
<p>cor(x, y, method = “pearson”)</p>
</section>
<section id="spearman-rank-monotonic" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="spearman-rank-monotonic"><span class="header-section-number">6.4</span> Spearman (rank, monotonic)</h2>
<p>cor(x, z, method = “spearman”)</p>
</section>
<section id="kendall-ordinal" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="kendall-ordinal"><span class="header-section-number">6.5</span> Kendall (ordinal)</h2>
<p>cor(x, z, method = “kendall”) 2.4 Visualizing Correlations ## Visualization library(ggplot2) data &lt;- data.frame(x, y, z)</p>
<p>ggplot(data, aes(x = x, y = y)) + geom_point() + geom_smooth(method = “lm”, se = FALSE, color = “blue”) + labs(title = “Scatter Plot with Linear Fit”, x = “X”, y = “Y”)</p>
<p>ggplot(data, aes(x = x, y = z)) + geom_point(color = “darkred”) + labs(title = “Non-Linear Relationship”, x = “X”, y = “Z”) 2.5 Correlation Matrix in RKWard Steps:</p>
<p>Load data into RKWard.</p>
<p>Navigate to Statistics → Summaries → Correlation Matrix.</p>
<p>Choose the appropriate variables.</p>
<p>Choose correlation type (Pearson, Spearman).</p>
<p>Run and interpret the matrix output.</p>
<p>2.6 Partial Correlation in R When you want to compute the correlation between two variables while controlling for a third:</p>
</section>
<section id="install.packagesggm" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="install.packagesggm"><span class="header-section-number">6.6</span> install.packages(“ggm”)</h2>
<p>library(ggm) X1 &lt;- rnorm(100) X2 &lt;- X1 + rnorm(100, sd = 0.5) X3 &lt;- rnorm(100) pcor(c(“X1”, “X2”, “X3”), cov(cbind(X1, X2, X3))) Interpretation: This tells you the pure correlation between X1 and X2, controlling for X3.</p>
<p>2.7 R Code to Automate All</p>
</section>
<section id="simulate-data" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="simulate-data"><span class="header-section-number">6.7</span> Simulate data</h2>
<p>set.seed(100) data &lt;- data.frame( A = rnorm(100), B = rnorm(100), C = rnorm(100) )</p>
</section>
<section id="generate-all-pairwise-correlations" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="generate-all-pairwise-correlations"><span class="header-section-number">6.8</span> Generate all pairwise correlations</h2>
<p>cor(data)</p>
</section>
<section id="visualize-matrix-with-corrplot" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="visualize-matrix-with-corrplot"><span class="header-section-number">6.9</span> Visualize matrix with corrplot</h2>
<p>library(corrplot) corrplot(cor(data), method = “color”, tl.col = “black”, addCoef.col = “black”) 2.8 Spearman vs Pearson – When to Use? Use Pearson when data is normally distributed, continuous, and linear.</p>
<p>Use Spearman when data is ordinal, ranked, or non-linear but monotonic.</p>
<p>Kendall’s Tau is more robust for small sample sizes.</p>
<p>👀 <strong>Next Up: Part 2/4</strong> will include:</p>
<ul>
<li>One-Way ANOVA full theory + math<br>
</li>
<li>Repeated Measures ANOVA (detailed)<br>
</li>
<li>Visualization of F-distributions<br>
</li>
<li>MANOVA + N-Way examples<br>
</li>
<li>10+ R code exercises</li>
</ul>
</section>
<section id="lecture-25-one-way-anova-detailed" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="lecture-25-one-way-anova-detailed"><span class="header-section-number">6.10</span> 3. Lecture 25 – One-Way ANOVA (Detailed)</h2>
<section id="concept-overview" class="level3" data-number="6.10.1">
<h3 data-number="6.10.1" class="anchored" data-anchor-id="concept-overview"><span class="header-section-number">6.10.1</span> 3.1 Concept Overview</h3>
<p><strong>Analysis of Variance (ANOVA)</strong> is used when comparing the <strong>means of three or more groups</strong>.</p>
<section id="formula-breakdown" class="level4" data-number="6.10.1.1">
<h4 data-number="6.10.1.1" class="anchored" data-anchor-id="formula-breakdown"><span class="header-section-number">6.10.1.1</span> 💡 Formula Breakdown</h4>
<ul>
<li><strong>SSM (Sum of Squares Model)</strong>: Variation between groups</li>
<li><strong>SSR (Sum of Squares Residual)</strong>: Variation within groups</li>
<li><strong>SST (Total)</strong>: Total variation</li>
</ul>
<p><strong>F-Ratio</strong>:</p>
<p><span class="math display">\[
F = \frac{MS_{between}}{MS_{within}} = \frac{SSM / df_M}{SSR / df_R}
\]</span></p>
</section>
</section>
<section id="anova-table-example" class="level3" data-number="6.10.2">
<h3 data-number="6.10.2" class="anchored" data-anchor-id="anova-table-example"><span class="header-section-number">6.10.2</span> 3.2 ANOVA Table Example</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Source</th>
<th>SS</th>
<th>df</th>
<th>MS</th>
<th>F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Between</td>
<td>461.64</td>
<td>3</td>
<td>153.88</td>
<td>8.27</td>
</tr>
<tr class="even">
<td>Within</td>
<td>167.42</td>
<td>9</td>
<td>18.60</td>
<td></td>
</tr>
<tr class="odd">
<td>Total</td>
<td>629.08</td>
<td>12</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="r-code-one-way-anova" class="level3" data-number="6.10.3">
<h3 data-number="6.10.3" class="anchored" data-anchor-id="r-code-one-way-anova"><span class="header-section-number">6.10.3</span> 3.3 R Code – One-Way ANOVA</h3>
<p>group1 &lt;- c(28, 36, 38, 31) group2 &lt;- c(32, 33, 40) group3 &lt;- c(47, 43, 52) group4 &lt;- c(40, 47, 45)</p>
<p>score &lt;- c(group1, group2, group3, group4) group &lt;- factor(rep(c(“Hunter”, “Farming”, “Natural”, “Industrial”), times=c(4,3,3,3)))</p>
<p>data &lt;- data.frame(score, group) anova_model &lt;- aov(score ~ group, data=data) summary(anova_model) 3.4 Post-Hoc Analysis (Tukey HSD)</p>
<p>TukeyHSD(anova_model) 3.5 Visualize Group Differences</p>
<p>boxplot(score ~ group, data = data, col = c(“lightblue”, “pink”, “lightgreen”, “yellow”)) 4. Lecture 26 – Repeated Measures ANOVA 4.1 Theory Repeated measures involve the same subjects measured under multiple conditions.</p>
<p>Aspect Repeated Measures Between-Subjects Subjects Same across treatments Different per group Variability Control Higher (less noise) Lower Efficiency More efficient Requires more samples</p>
<p>4.2 R Code – Repeated Measures</p>
<p>library(ez) subject &lt;- factor(rep(1:10, each=3)) treatment &lt;- factor(rep(c(“Pre”, “Mid”, “Post”), times=10)) score &lt;- c(rnorm(10, 65), rnorm(10, 70), rnorm(10, 75)) rm_df &lt;- data.frame(subject, treatment, score)</p>
<p>ezANOVA(data=rm_df, dv=score, wid=subject, within=treatment) 4.3 Visual Check</p>
<p>library(ggplot2) ggplot(rm_df, aes(x=treatment, y=score, group=subject, color=subject)) + geom_line() + geom_point() + theme_minimal() + labs(title=“Repeated Measures ANOVA Plot”) 5. Lecture 27 – MANOVA and N-Way ANOVA 5.1 What is MANOVA? Multivariate Analysis of Variance (MANOVA) extends ANOVA to multiple dependent variables.</p>
<p>Example Use Case:</p>
<p>Investigating how teaching methods affect:</p>
<p>Exam scores</p>
<p>Class participation</p>
<p>Homework submission</p>
<p>5.2 R Code – MANOVA</p>
<p>y1 &lt;- rnorm(30, 60, 5) y2 &lt;- rnorm(30, 70, 6) y3 &lt;- rnorm(30, 80, 4) method &lt;- factor(rep(c(“A”, “B”, “C”), each=10))</p>
<p>manova_model &lt;- manova(cbind(y1, y2, y3) ~ method) summary(manova_model) 5.3 N-Way ANOVA (Interaction Effects)</p>
<p>df &lt;- expand.grid( Teaching = c(“Traditional”, “Interactive”), Gender = c(“Male”, “Female”), Rep = 1:20 ) df$Score &lt;- rnorm(80, mean = 70, sd = 5)</p>
<p>model_nway &lt;- aov(Score ~ Teaching * Gender, data = df) summary(model_nway) 5.4 Interaction Plot {r} interaction.plot(df<span class="math inline">\(Teaching, df\)</span>Gender, df$Score, col=c(“red”, “blue”)) 5.5 Assumptions of ANOVA Assumption Check Method Tool Normality QQ Plot, Shapiro Test shapiro.test() Homogeneity Levene’s/Bartlett’s Test car::leveneTest() Independence Design-level assurance Design phase</p>
<p>5.6 Assumption Check in R {r} # Normality check shapiro.test(residuals(anova_model))</p>
</section>
</section>
<section id="homogeneity-check" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="homogeneity-check"><span class="header-section-number">6.11</span> Homogeneity check</h2>
<p>library(car) leveneTest(score ~ group, data = data) 5.7 Visualizing F-Distribution</p>
<p>curve(df(x, df1=3, df2=9), from=0, to=10, col=“blue”, lwd=2, ylab=“Density”, main=“F-distribution df(3,9)”) abline(v=8.27, col=“red”, lwd=2, lty=2) legend(“topright”, legend=c(“F = 8.27”), col=“red”, lty=2) 5.8 Simulation: When F is not significant</p>
<p>set.seed(2024) group_A &lt;- rnorm(10, mean=50) group_B &lt;- rnorm(10, mean=51) group_C &lt;- rnorm(10, mean=50.5)</p>
<p>score &lt;- c(group_A, group_B, group_C) group &lt;- factor(rep(c(“A”, “B”, “C”), each=10))</p>
<p>df &lt;- data.frame(score, group) aov_model &lt;- aov(score ~ group, data=df) summary(aov_model) ➡️ End of Part 2/4. Part 3 includes Regression (Simple, Multiple, Non-linear), VIF, Residuals, and Advanced Modeling</p>
</section>
<section id="lecture-28-simple-linear-regression" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="lecture-28-simple-linear-regression"><span class="header-section-number">6.12</span> 6. Lecture 28 – Simple Linear Regression</h2>
<section id="theory-refresher" class="level3" data-number="6.12.1">
<h3 data-number="6.12.1" class="anchored" data-anchor-id="theory-refresher"><span class="header-section-number">6.12.1</span> 6.1 Theory Refresher</h3>
<p>Linear regression predicts a <strong>dependent variable (Y)</strong> using an <strong>independent variable (X)</strong>.</p>
<p><strong>Model Equation</strong>:</p>
<p><span class="math display">\[
Y = \beta_0 + \beta_1 X + \epsilon
\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(\beta_0\)</span> = Intercept<br>
</li>
<li><span class="math inline">\(\beta_1\)</span> = Slope<br>
</li>
<li><span class="math inline">\(\epsilon\)</span> = Error term</li>
</ul>
<hr>
</section>
<section id="example-in-r" class="level3" data-number="6.12.2">
<h3 data-number="6.12.2" class="anchored" data-anchor-id="example-in-r"><span class="header-section-number">6.12.2</span> 6.2 Example in R</h3>
<p>study_time &lt;- c(2, 3, 4, 5, 6) grades &lt;- c(50, 60, 65, 70, 75)</p>
<p>model &lt;- lm(grades ~ study_time) summary(model) 6.3 Regression Line Visualization</p>
<p>plot(study_time, grades, main=“Simple Regression”, xlab=“Study Time”, ylab=“Grades”) abline(model, col=“blue”, lwd=2) 6.4 Interpret Coefficients</p>
<p>coef(model) Intercept: Grade when study time = 0</p>
<p>Slope: Grade increases per hour of study</p>
<p>6.5 Residual Plots</p>
<p>par(mfrow=c(2,2)) plot(model) Top-left: Residuals vs Fitted</p>
<p>Bottom-left: Scale-Location</p>
<p>Top-right: QQ Plot</p>
<p>Bottom-right: Residuals vs Leverage</p>
<p>6.6 Confidence Intervals</p>
<p>confint(model) 7. Lecture 29 – Multiple Regression 7.1 Add More Predictors</p>
<p>df &lt;- data.frame( Exam = c(50, 55, 60, 65, 70), Hours = c(2, 3, 4, 5, 6), Sleep = c(7, 6.5, 6, 5.5, 5) ) multi_model &lt;- lm(Exam ~ Hours + Sleep, data = df) summary(multi_model) 7.2 Check VIF (Multicollinearity)</p>
<p>library(car) vif(multi_model) VIF &gt; 5 → multicollinearity warning VIF &gt; 10 → serious problem</p>
<p>7.3 Partial Residual Plots</p>
<p>avPlots(multi_model) 7.4 Plot 3D Regression Plane</p>
</section>
<section id="install.packagesscatterplot3d" class="level3" data-number="6.12.3">
<h3 data-number="6.12.3" class="anchored" data-anchor-id="install.packagesscatterplot3d"><span class="header-section-number">6.12.3</span> install.packages(“scatterplot3d”)</h3>
<p>library(scatterplot3d) scatterplot3d(df<span class="math inline">\(Hours, df\)</span>Sleep, df$Exam, highlight.3d=TRUE, type=“h”, angle=55, color=“darkgreen”, pch=16) 8. Lecture 30 – Polynomial and Non-Linear Regression 8.1 Simulating Non-linear Relationship</p>
<p>x &lt;- seq(0, 10, 0.1) y &lt;- 5 + 2 * x^2 + rnorm(length(x), 0, 5) plot(x, y, main=“Non-linear Pattern”, pch=19) 8.2 Polynomial Regression</p>
<p>poly_model &lt;- lm(y ~ poly(x, 2)) summary(poly_model)</p>
<p>lines(x, predict(poly_model), col=“blue”, lwd=2) 8.3 Compare with Linear Fit</p>
<p>linear_model &lt;- lm(y ~ x) lines(x, predict(linear_model), col=“red”, lwd=2, lty=2) legend(“topleft”, legend=c(“Poly”, “Linear”), col=c(“blue”, “red”), lty=c(1,2)) 8.4 Residual Analysis</p>
<p>par(mfrow=c(1,2)) plot(poly_model<span class="math inline">\(fitted.values, poly_model\)</span>residuals, main=“Polynomial Residuals”) plot(linear_model<span class="math inline">\(fitted.values, linear_model\)</span>residuals, main=“Linear Residuals”) 8.5 Curve Fitting with nls()</p>
<p>x &lt;- seq(0, 10, length.out=100) y &lt;- 2 * exp(0.3 * x) + rnorm(100, sd=3)</p>
<p>nls_model &lt;- nls(y ~ a * exp(b * x), start=list(a=2, b=0.3)) summary(nls_model)</p>
<p>lines(x, predict(nls_model), col=“purple”, lwd=2) 9. Lecture 31 – Model Evaluation Metrics 9.1 R² and Adjusted R²</p>
<p>summary(multi_model)<span class="math inline">\(r.squared
summary(multi_model)\)</span>adj.r.squared 9.2 MSE and RMSE</p>
<p>pred &lt;- predict(multi_model) actual &lt;- df$Exam residuals &lt;- actual - pred mse &lt;- mean(residuals^2) rmse &lt;- sqrt(mse)</p>
</section>
</section>
<section id="lecture-32-logistic-regression" class="level2" data-number="6.13">
<h2 data-number="6.13" class="anchored" data-anchor-id="lecture-32-logistic-regression"><span class="header-section-number">6.13</span> 10. Lecture 32 – Logistic Regression</h2>
<section id="when-to-use" class="level3" data-number="6.13.1">
<h3 data-number="6.13.1" class="anchored" data-anchor-id="when-to-use"><span class="header-section-number">6.13.1</span> 10.1 When to Use</h3>
<p>Logistic regression is used when the <strong>dependent variable is categorical</strong> (typically binary: 0/1, Yes/No, Pass/Fail).</p>
</section>
<section id="logistic-function" class="level3" data-number="6.13.2">
<h3 data-number="6.13.2" class="anchored" data-anchor-id="logistic-function"><span class="header-section-number">6.13.2</span> 10.2 Logistic Function</h3>
<p><span class="math display">\[
P(Y=1) = \frac{1}{1 + e^{-(\beta_0 + \beta_1 X)}}
\]</span></p>
<hr>
</section>
<section id="r-example-predicting-admission" class="level3" data-number="6.13.3">
<h3 data-number="6.13.3" class="anchored" data-anchor-id="r-example-predicting-admission"><span class="header-section-number">6.13.3</span> 10.3 R Example: Predicting Admission</h3>
<p>df &lt;- data.frame( Admit = c(1,1,0,1,0,0,1,1,0,0), Score = c(80,85,60,90,55,40,88,83,59,52) )</p>
<p>logit_model &lt;- glm(Admit ~ Score, data=df, family=“binomial”) summary(logit_model) 10.4 Probability Prediction</p>
<p>df$Prob &lt;- predict(logit_model, type=“response”) df 10.5 ROC Curve</p>
<p>library(pROC) roc_obj &lt;- roc(df<span class="math inline">\(Admit, df\)</span>Prob) plot(roc_obj, col=“darkgreen”) auc(roc_obj) 10.6 Classification Table</p>
<p>df<span class="math inline">\(Pred &lt;- ifelse(df\)</span>Prob &gt; 0.5, 1, 0) table(Predicted = df<span class="math inline">\(Pred, Actual = df\)</span>Admit) 11. Lecture 33 – Chi-Square Test 11.1 Categorical Independence Used when evaluating if two categorical variables are independent.</p>
<p>11.2 Example: Gender vs Department Choice</p>
<p>gender &lt;- c(“Male”, “Male”, “Female”, “Female”) dept &lt;- c(“Science”, “Arts”, “Science”, “Arts”) counts &lt;- c(30, 20, 25, 25)</p>
<p>chi_df &lt;- data.frame(Gender=rep(gender, counts), Dept=rep(dept, counts)) tbl &lt;- table(chi_df<span class="math inline">\(Gender, chi_df\)</span>Dept) chisq.test(tbl) 12. Lecture 34 – Non-Parametric Tests 12.1 When to Use Data is not normally distributed</p>
<p>Ordinal data or small sample sizes</p>
<p>12.2 Mann–Whitney U</p>
<p>group1 &lt;- c(45, 50, 60, 55) group2 &lt;- c(70, 75, 80, 85) wilcox.test(group1, group2) 12.3 Kruskal–Wallis (Non-parametric ANOVA)</p>
<p>g1 &lt;- c(10, 20, 30) g2 &lt;- c(40, 50, 60) g3 &lt;- c(70, 80, 90) kw_df &lt;- data.frame( score = c(g1, g2, g3), group = factor(rep(c(“A”, “B”, “C”), each=3)) ) kruskal.test(score ~ group, data=kw_df) 12.4 Wilcoxon Signed-Rank</p>
<p>before &lt;- c(60, 70, 65, 80) after &lt;- c(62, 75, 68, 82) wilcox.test(before, after, paired=TRUE) 13. Case Study – Social Media &amp; Mental Health 13.1 Dataset Simulation</p>
<p>set.seed(100) n &lt;- 100 hours &lt;- rnorm(n, 3, 1.5) stress &lt;- 10 + 1.2 * hours + rnorm(n)</p>
<p>df &lt;- data.frame(hours, stress) model &lt;- lm(stress ~ hours, data=df) summary(model) 13.2 Visual</p>
<p>plot(hours, stress, main=“Social Media Use vs Stress”, pch=19) abline(model, col=“red”, lwd=2) 13.3 Interpretation Positive slope → More hours = more stress</p>
<p>R² tells how well hours predict stress</p>
<ol start="14" type="1">
<li>50 Multiple Choice Questions (MCQs) Q1. Pearson’s r is best used when: Data is ordinal</li>
</ol>
<p>Data is continuous and normally distributed</p>
<p>Data has outliers</p>
<p>You want to rank variables</p>
<p>Q2. Which test compares more than 2 independent means? t-test</p>
<p>ANOVA</p>
<p>Chi-Square</p>
<p>Correlation</p>
<p>Q3. A VIF of 12 means: No multicollinearity</p>
<p>Severe multicollinearity</p>
<p>Perfect fit</p>
<p>Homoscedasticity</p>
<ol start="15" type="1">
<li>Exercises Exercise 1: One-Way ANOVA on Fake Marketing Data Generate three ad strategies and test which gives highest customer conversions.</li>
</ol>
<p>Exercise 2: Correlate temperature and ice cream sales Include scatterplot, Pearson’s r, regression line.</p>
<p>Exercise 3: Logistic regression predicting credit approval Predict using income and debt ratio.</p>
<p>Exercise 4: Chi-Square on survey data Test independence of satisfaction vs.&nbsp;purchase intention.</p>
<p>Exercise 5: Repeated Measures ANOVA Simulate 10 people tested across 3 time points.</p>
<ol start="16" type="1">
<li><p>Glossary Term Definition ANOVA Test for differences in means across groups Regression Predict numerical output from inputs Correlation Measure of linear association between two variables R² Proportion of variance explained by model AIC Akaike Information Criterion – model quality metric VIF Variance Inflation Factor – checks multicollinearity Logistic Regression Used for binary outcome prediction Chi-Square Test for independence between two categorical variables</p></li>
<li><p>Appendix 17.1 RKWard Menus Correlation → Statistics → Summaries → Correlation Matrix</p></li>
</ol>
<p>ANOVA → Analysis → ANOVA → One-Way or Repeated</p>
<p>Plots → Graphics → Histogram / Boxplot / Scatterplot</p>
<p>Regression → Analysis → Linear Models</p>
<p>17.2 Troubleshooting Issue Solution “object not found” Check variable names (case-sensitive) Plot doesn’t show Use print(plot_name) or run outside R chunk Model output blank Use summary(model) instead of just model Package not found Install using install.packages(“name”)</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./week4.html" class="pagination-link" aria-label="Week 4">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 4</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./week6.html" class="pagination-link" aria-label="week 6">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">week 6</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>